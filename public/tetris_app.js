webpackJsonp([1,2],[,,,,,,,function(r,t,e){"use strict";t.a=[{id:0,name:"I",rotIndex:0,rotations:[[[1,4],[1,5],[1,6],[1,7]],[[0,4],[1,4],[2,4],[3,4]],[[1,4],[1,5],[1,6],[1,7]],[[0,5],[1,5],[2,5],[3,5]]]},{id:1,name:"L",rotIndex:0,rotations:[[[0,4],[1,4],[2,4],[2,5]],[[1,4],[1,5],[1,6],[2,4]],[[0,4],[0,5],[1,5],[2,5]],[[1,4],[1,5],[1,6],[0,6]]]},{id:2,name:"Z",rotIndex:0,rotations:[[[0,4],[1,4],[1,5],[2,5]],[[1,6],[2,4],[1,5],[2,5]],[[0,4],[1,4],[1,5],[2,5]],[[1,6],[2,4],[1,5],[2,5]]]},{id:3,name:"S",rotIndex:0,rotations:[[[0,5],[1,4],[1,5],[2,4]],[[2,5],[1,4],[1,5],[2,6]],[[0,5],[1,4],[1,5],[2,4]],[[2,5],[1,4],[1,5],[2,6]]]},{id:4,name:"J",rotIndex:0,rotations:[[[0,5],[1,5],[2,5],[2,4]],[[0,4],[1,4],[1,5],[1,6]],[[0,5],[1,5],[2,5],[0,6]],[[2,6],[1,4],[1,5],[1,6]]]},{id:5,name:"O",rotIndex:0,rotations:[[[0,4],[0,5],[1,4],[1,5]],[[0,4],[0,5],[1,4],[1,5]],[[0,4],[0,5],[1,4],[1,5]],[[0,4],[0,5],[1,4],[1,5]]]},{id:6,name:"T",rotIndex:0,rotations:[[[1,4],[1,5],[1,6],[0,5]],[[0,5],[1,5],[2,5],[1,6]],[[1,5],[1,6],[1,4],[2,5]],[[0,5],[1,5],[2,5],[1,4]]]}]},,,,,,,function(r,t,e){"use strict";var o=e(6),n=e.n(o),i=e(13),a=e.n(i),s=e(7),c=e(16);n.a.use(a.a);var u={board:[],currentBlock:{},shouldCreateNextBlock:!0,gameOver:!1,score:0,previousColorId:0,currentColorId:0,lowerSpeed:500},l={SETUP_BOARD:function(r,t){r.board=t},CREATE_BLOCK:function(r,t){var e=t.rotations[t.rotIndex];for(var o in e)r.board[e[o][0]][e[o][1]]=1,r.shouldCreateNextBlock=!1;r.currentColorId=t.id},SET_CURRENT_BLOCK:function(r,t){r.currentBlock=t},ROTATE_CURRENT_BLOCK:function(r){if(e.i(c.a)(r.currentBlock,r.board)){var t=r.currentBlock.rotations[r.currentBlock.rotIndex],o=e.i(c.b)(r.currentBlock);for(var n in t)r.board[t[n][0]].splice(t[n][1],1,0);for(var i in o)r.board[o[i][0]].splice(o[i][1],1,1);r.currentBlock.rotIndex<3?r.currentBlock.rotIndex+=1:r.currentBlock.rotIndex=0}},MOVE_CURRENT_BLOCK:function(r,t){var o=r.currentBlock.rotations[r.currentBlock.rotIndex];if(!e.i(c.c)(t,r.board[0].length,o)&&e.i(c.d)(t,r.board,o)){var n=[],i=[];for(var a in o){var s=o[a][0],u=o[a][1],l=0;l="right"===t?o[a][1]+1:o[a][1]-1,e.i(c.e)([s,u],i)===-1&&r.board[s].splice(u,1,0),r.board[s].splice(l,1,1),i.push([s,l]),n.push([s,l])}r.currentBlock.rotations[r.currentBlock.rotIndex]=n;var d=r.currentBlock.rotIndex;for(var f in r.currentBlock.rotations)if(parseInt(f)!==parseInt(d))for(var v in r.currentBlock.rotations[f])"right"===t?r.currentBlock.rotations[f][v][1]+=1:r.currentBlock.rotations[f][v][1]-=1}},LOWER_CURRENT_BLOCK:function(r){var t=[],o=[],n=r.currentBlock.rotations[r.currentBlock.rotIndex];if(e.i(c.f)(r.board,r.currentBlock)||e.i(c.g)(r.board,r.currentBlock)){var i=r.currentBlock,a=i.rotations[i.rotIndex],u=s.a[i.id].rotations[i.rotIndex],l=!1;for(var d in a)for(var f in a[d])a[d][f]!==u[d][f]&&(l=!0);l?(r.previousColorId=i.id,r.shouldCreateNextBlock=!0):r.gameOver=!0}else{for(var v in n){var h=n[v][0],p=n[v][0]+1,B=n[v][1];e.i(c.e)([h,B],t)===-1&&r.board[h].splice(B,1,0),r.board[p].splice(B,1,1),t.push([p,B]),o.push([p,B])}r.currentBlock.rotations[r.currentBlock.rotIndex]=o;var m=r.currentBlock.rotIndex;for(var C in r.currentBlock.rotations)if(parseInt(C)!==parseInt(m))for(var k in r.currentBlock.rotations[C])r.currentBlock.rotations[C][k][0]+=1}},DELETE_LINE_IF_COMPLETE:function(r,t){if(e.i(c.h)(r.board[t])){r.board.splice(t,1);var o=new Array(r.board[0].length).fill(0);r.board.unshift(o),r.score+=1}},RESTART_GAME:function(r){for(var t in r.board)r.board.splice(t,1,new Array(r.board[0].length).fill(0));r.gameOver=!1,r.shouldCreateNextBlock=!0,r.score=0,r.previousColorId=0,r.currentColorId=0}},d={},f={currentBlockTiles:function(r){},canBeLowered:function(r){return!e.i(c.f)(r.board,r.currentBlock)&&!e.i(c.g)(r.board,r.currentBlock)}};t.a=new a.a.Store({state:u,getters:f,actions:d,mutations:l})},function(r,t,e){e(50);var o=e(5)(e(17),e(55),"data-v-1c653e6e",null);r.exports=o.exports},function(r,t,e){"use strict";function o(r,t,e){if("right"===r){for(var o in e)if(e[o][1]+1===t)return!0}else for(var n in e)if(e[n][1]-1<0)return!0;return!1}function n(r){return!r.includes(0)}function i(r){var t=void 0;return t=r.rotIndex<3?r.rotations[r.rotIndex+1]:r.rotations[0]}function a(r,t){if(c(t,r)||u(t,r))return!1;var e=i(r),o=JSON.parse(p()(t)),n=r.rotations[r.rotIndex];for(var a in n)o[n[a][0]].splice(n[a][1],1,0);for(var s in e){if(!(e[s][0]<t.length))return!1;if(!(e[s][1]<t[0].length&&e[s][1]>=0))return!1;if(1===o[e[s][0]][e[s][1]])return!1}return!0}function s(r,t,e){if("right"===r){var o=f(e);for(var n in o)if(0!==t[o[n][0]][o[n][1]+1])return!1}else if("left"===r){var i=d(e);for(var a in i)if(0!==t[i[a][0]][i[a][1]-1])return!1}return!0}function c(r,t){var e=v(t.rotations[t.rotIndex]);for(var o in e)if(!(e[o][0]<r.length-1))return!0;return!1}function u(r,t){var e=v(t.rotations[t.rotIndex]);for(var o in e)if(1===r[e[o][0]+1][e[o][1]])return!0;return!1}function l(r,t){for(var e=0;e<t.length;e++)if(t[e][0]===r[0]&&t[e][1]===r[1])return e;return-1}function d(r){var t=[],e=[];for(var o in r)if(t.includes(r[o][0]))for(var n in t)e[n][0]===r[o][0]&&e[n][1]>r[o][1]&&e.splice(n,1,r[o]);else t.push(r[o][0]),e.push(r[o]);return e}function f(r){var t=[],e=[];for(var o in r)if(t.includes(r[o][0]))for(var n in t)e[n][0]===r[o][0]&&e[n][1]<r[o][1]&&e.splice(n,1,r[o]);else t.push(r[o][0]),e.push(r[o]);return e}function v(r){var t=[],e=[];for(var o in r)if(t.includes(r[o][1]))for(var n in t)e[n][1]===r[o][1]&&e[n][0]<r[o][0]&&e.splice(n,1,r[o]);else t.push(r[o][1]),e.push(r[o]);return e}var h=e(8),p=e.n(h);e.d(t,"c",function(){return o}),e.d(t,"f",function(){return c}),e.d(t,"g",function(){return u}),e.d(t,"e",function(){return l}),e.d(t,"d",function(){return s}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return i}),e.d(t,"h",function(){return n})},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(53),n=e.n(o);t.default={components:{GameBoard:n.a},data:function(){return{intervalId:null,downKeyDown:!1}},created:function(){var r=this;window.addEventListener("keydown",function(t){r.moveBlock(t)}),window.addEventListener("keyup",function(t){r.keyUp(t)})},methods:{keyUp:function(r){"ArrowDown"===r.code&&(clearInterval(this.intervalId),this.downKeyDown=!1)},moveBlock:function(r){"ArrowLeft"===r.code&&this.$store.commit("MOVE_CURRENT_BLOCK","left"),"ArrowRight"===r.code&&this.$store.commit("MOVE_CURRENT_BLOCK","right"),"ArrowUp"===r.code&&this.$store.commit("ROTATE_CURRENT_BLOCK"),"ArrowDown"===r.code&&(this.downKeyDown||(this.intervalId=setInterval(this.lower,25)),this.downKeyDown=!0)},lower:function(){this.$store.getters.canBeLowered&&this.$store.commit("LOWER_CURRENT_BLOCK")}}}},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(21),n=e.n(o),i=e(8),a=e.n(i),s=e(13),c=(e.n(s),e(7)),u=e(54),l=e.n(u);t.default={components:{Tile:l.a},created:function(){var r=JSON.parse(a()(c.a[this.randomBlockNumber()]));this.$store.commit("SETUP_BOARD",this.createArray(20,10)),this.$store.commit("CREATE_BLOCK",r),this.$store.commit("SET_CURRENT_BLOCK",r),setInterval(this.lower,this.$store.state.lowerSpeed)},methods:{lower:function(){if(this.$store.state.shouldCreateNextBlock){var r=JSON.parse(a()(c.a[this.randomBlockNumber()]));this.$store.commit("CREATE_BLOCK",r),this.$store.commit("SET_CURRENT_BLOCK",r)}this.$store.commit("LOWER_CURRENT_BLOCK");for(var t in this.$store.state.board)this.$store.commit("DELETE_LINE_IF_COMPLETE",t)},createArray:function(r){var t=new Array(r||0).fill(0),e=r;if(arguments.length>1)for(var o=Array.prototype.slice.call(arguments,1);e--;)t[r-1-e]=this.createArray.apply(this,o);return t},randomBlockNumber:function(){return Math.floor(Math.random()*(c.a.length-0))},restart:function(){this.$store.commit("RESTART_GAME")}},computed:n()({},e.i(s.mapState)({board:function(r){return r.board}}))}},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["tile","x","y"],data:function(){return{tileColorSet:!1,tileColorId:"",colors:["red","blue","green","orange","pink","purple","yellow"]}},methods:{isCurrentBlockTile:function(){var r=this.$store.state.currentBlock.rotations[this.$store.state.currentBlock.rotIndex];for(var t in r)if(r[t][0]===this.y&&r[t][1]===this.x)return!0;return!1}},computed:{tileStyle:function(){return 1===this.tile?this.isCurrentBlockTile()?{backgroundColor:this.colors[this.$store.state.currentColorId]}:(this.tileColorSet||(this.tileColorId=this.$store.state.previousColorId),this.tileColorSet=!0,{backgroundColor:this.colors[this.tileColorId]}):void(this.tileColorSet=!1)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,t){},function(r,t){},function(r,t){},function(r,t,e){e(51);var o=e(5)(e(18),e(56),"data-v-250744c4",null);r.exports=o.exports},function(r,t,e){e(52);var o=e(5)(e(19),e(57),"data-v-4627f414",null);r.exports=o.exports},function(r,t){r.exports={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{attrs:{id:"app"},on:{keydown:r.moveBlock}},[e("div",{staticClass:"game board"},[e("GameBoard")],1)])},staticRenderFns:[]}},function(r,t){r.exports={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",[r._l(r.board,function(t,o){return e("div",{staticClass:"line"},r._l(t,function(r,t){return e("Tile",{attrs:{y:o,x:t,tile:r}})}))}),r._v(" "),e("div",{staticClass:"score"},[r._v("\n    Score: "+r._s(r.$store.state.score)+"\n  ")]),r._v(" "),r.$store.state.gameOver?e("div",[e("button",{staticClass:"restart button",on:{click:r.restart}},[r._v("\n      Restart\n    ")])]):r._e()],2)},staticRenderFns:[]}},function(r,t){r.exports={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"tile",style:r.tileStyle},[e("div")])},staticRenderFns:[]}},,,function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(6),n=e.n(o),i=e(15),a=e.n(i),s=e(14);new n.a({el:"#app",store:s.a,template:"<App/>",components:{App:a.a}})}],[60]);